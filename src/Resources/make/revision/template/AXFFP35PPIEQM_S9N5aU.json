{
    "_contenttype": "template",
    "_finalization_datetime": "2020-05-01T14:16:54+0200",
    "_finalized_by": "theus",
    "body": "{% trans_default_domain trans_default_domain %}\r\n\r\n{% set currentNavItem = false %}\r\n{%- block nav_item_path -%}\r\n{% spaceless %}\r\n    {% if currentNavItem -%}\r\n        {%- set url = '#' -%}\r\n        \r\n     \r\n        {%- if currentNavItem.contentType in ['link'] -%}\r\n            {% set link = emsch_search('link', {\r\n                '_source': false,\r\n                'query': {\r\n                    'bool': {\r\n                        'must' : [\r\n                            {'term': { (\"menu_#{locale}\") : currentNavItem.id  } },\r\n                            {'term': { (\"show_#{locale}\") : true  } }\r\n                        ]\r\n                    }\r\n                    \r\n                }\r\n            }).hits.hits|first %}\r\n            \r\n            {% if link %}\r\n                {%- set url = \"ems:\/\/object:link:#{link._id}\"|emsch_routing|raw -%}\r\n            {% endif %}\r\n        {% endif %}\r\n        \r\n        {% if url == '#' %}\r\n            {% set slug = attribute(attribute(attribute(byTarget, locale), currentTarget.target_group).slugByUid, currentNavItem.id)|default(false) %}\r\n            {% set parameters = {} %}\r\n            {% if slug %}\r\n                {% set parameters = { slug: slug } %}\r\n            {% endif %}\r\n             {%- set url = path(\"emsch_target_#{currentTarget.target_group}.#{locale}\", parameters) -%}\r\n        {% endif %}\r\n\r\n        {{ url|raw }}\r\n    {% endif %}\r\n{% endspaceless %}\r\n{%- endblock nav_item_path -%}\r\n\r\n{% set targetMenu = currentTarget.menu|default(\"{}\")|ems_json_menu_decode %}\r\n\r\n<a class=\"skip-main\" href=\"#main-content\">{{ 'aria.skip-to-main-content'|trans }}<\/a>\r\n<nav class=\"navbar navbar-expand-md navbar-dark bg-dark\">\r\n    <a class=\"navbar-brand\" href=\"{{ path(\"emsch_target_#{targetGroup}.#{locale}\") }}\" id=\"logo\">\r\n        <img src=\"{{ asset(\"bundles\/emsch_assets\/img\/logo-#{locale}.png\") }}\" width=\"30\" height=\"30\" class=\"d-inline-block align-top\" alt=\"{{ 'site.name'|trans }}\">\r\n        {{ 'site.name'|trans }} \r\n    <\/a>\r\n    <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarsHeader\" aria-controls=\"navbarsHeader\" aria-expanded=\"false\" aria-label=\"{{ 'action.toggle-navigation'|trans }}\">\r\n        <span class=\"navbar-toggler-icon\"><\/span>\r\n    <\/button>\r\n    \r\n    <div class=\"collapse navbar-collapse\" id=\"navbarsHeader\">\r\n        <ul class=\"navbar-nav mr-auto\">\r\n            {%- for level1 in targetMenu.structure|default([]) -%}\r\n                {% set currentNavItem = level1 %}\r\n                {% set level1Children = level1.children|default([])  %}\r\n                {% set level1Path = block('nav_item_path') %}\r\n                {% set level1Active = (level1Path in app.request.requestUri) %}\r\n                \r\n                {%- if level1Children|length == 0 -%}\r\n                    <a id=\"item-{{ level1.id }}\" class=\"nav-link {{ level1Active ? 'active' : '' }} {{ level1Path == '#' ? 'disabled' }}\" href=\"{{ level1Path }}\">{{ level1.label }}{% if level1Active %} <span class=\"sr-only\">{{ 'aria.navbar.current'|trans }}<\/span>{% endif %}<\/a>\r\n                {%- else -%}\r\n                     <li class=\"nav-item dropdown {{ level1Active ? 'active' : '' }}\">\r\n                        <a class=\"nav-link dropdown-toggle\" href=\"{{ level1Path }}\" id=\"dropdown-{{ level1.id }}\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">{{ level1.label }}<\/a>\r\n                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdown-{{ level1.id }}\">\r\n                            {%- for level2 in level1Children -%}\r\n                                {% set currentNavItem = level2 %}\r\n                                {% set level2Path = block('nav_item_path') %}\r\n                                {% set level2Children = level2.children|default([]) %}\r\n                                {% set level2Active = (level2Path in app.request.requestUri) %}\r\n                                 <a id=\"item-{{ level2.id }}\" class=\"dropdown-item {% if level2Active %}active{% endif %} {{ level2Path == '#' ? 'disabled' }}\" href=\"{{ level2Path|raw }}\">{{ level2.label }}{% if level2Active %} <span class=\"sr-only\">{{ 'aria.navbar.current'|trans }}<\/span>{% endif %}<\/a>\r\n                            {%- endfor -%}\r\n                        <\/div>\r\n                    <\/li>\r\n                {%- endif -%}\r\n            {%- endfor -%}\r\n        <\/ul>\r\n        <form class=\"my-2 my-lg-0\" action=\"{{ path((\"emsch_search_#{targetGroup}.#{locale}\")) }}\" method=\"GET\">\r\n            <div class=\"input-group\">\r\n                <input name=\"q\" class=\"form-control\" type=\"text\" placeholder=\"{{ 'search.placeholder'|trans }}\" aria-label=\"{{ 'search'|trans }}\">\r\n                <div class=\"input-group-append\">\r\n                    <button class=\"btn btn-outline-light\" type=\"submit\"><i class=\"fas fa-search\"><\/i> {{ 'search'|trans }}<\/button>\r\n                <\/div>\r\n            <\/div>\r\n        <\/form>\r\n        <ul class=\"navbar-nav navbar-lang d-flex flex-row d-md-none \">\r\n            {% for lr in languageRoutes %}\r\n                <li class=\"nav-item flex-fill text-center\">\r\n                    <a lang=\"{{ lr.locale }}\" class=\"nav-link\" href=\"{{ lr.route }}\" title=\"{{ lr.language }}\">{{ lr.language }}<\/a>\r\n                <\/li>\r\n            {% endfor %}\r\n        <\/ul>\r\n    <\/div>\r\n    <ul class=\"nav navbar-nav navbar-right ml-1 d-none d-md-block\">\r\n        <li class=\"nav-item dropdown\">\r\n            {% if languageRoutes|length == 0 %}\r\n                <a class=\"nav-link\" href=\"#\">{{ locale|upper }}<\/a>\r\n            {% else %}\r\n                <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"dropdownLocales\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">{{ locale|upper }}<\/a>\r\n                <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownLocales\">\r\n                    {% for lr in languageRoutes %}<a lang=\"{{ lr.locale }}\" class=\"dropdown-item\" href=\"{{ lr.route }}\">{{ lr.language }}<\/a>{% endfor %}\r\n                <\/div>\r\n            {% endif %}\r\n        <\/li>\r\n    <\/ul>\r\n    {% if attribute(byTarget, locale)|default([])|length > 1 %}\r\n        <ul class=\"nav navbar-nav navbar-right ml-1 d-none d-md-block\">\r\n            <li class=\"nav-item dropdown\">\r\n                <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"dropdownLocales\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">{{ currentTarget.title|upper }}<\/a>\r\n                <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownLocales\">\r\n                    {%- for target in targetConfigs|keys -%}\r\n                        {% if target != currentTarget.target_group and attribute(attribute(byTarget, locale), target)|default(false) %}\r\n                            <a class=\"dropdown-item\" href=\"{{ path(\"emsch_target_#{target}.#{locale}\") }}\">   {{ attribute(attribute(byTarget, locale), target).title }}<\/a>\r\n                        {% endif %}\r\n                    {%- endfor -%}\r\n                <\/div>\r\n            <\/li>\r\n        <\/ul>\r\n    {% endif %}\r\n<\/nav>",
    "name": "bootstrap\/navbar.html.twig",
    "_sha1": "4d261a72cfc4559e54d399091618d569d18cd998",
    "_published_datetime": "2021-01-17T21:33:55+0100"
}
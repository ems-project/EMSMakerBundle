{
    "_contenttype": "template",
    "_finalization_datetime": "2020-05-27T15:37:14+0200",
    "_finalized_by": "davmat",
    "body": "{% extends '@EMSCH\/template\/base.html.twig' %}\r\n{% trans_default_domain trans_default_domain %}\r\n\r\n\r\n{% block title -%}\r\n    {{ attribute(source, 'title_'~app.request.locale) }}\r\n{%- endblock %}\r\n\r\n\r\n{%- block homeHeader -%}\r\n    <div class=\"jumbotron\" style=\"background-image: url(&quot;{% include('@EMSCH\/template\/include\/image-path.txt.twig') with {picture: source, width: 1024, height: 200 } %}&quot;\";  height: 50%; background-position: center; background-repeat: no-repeat; background-size: cover;>\r\n        <div class=\"container\" {{ emsch_admin_menu(emsLink) }}>\r\n             <h1 class=\"sr-only\">{{ block('title') }}<\/h1>\r\n             {{ attribute(source, \"body_#{locale}\")|default('')|replace(wyiwygReplaces)|emsch_routing|ems_anti_spam }}\r\n        <\/div>\r\n    <\/div>\r\n{% endblock %}\r\n\r\n\r\n{% block themes %}\r\n    {% set firstMenuId = menu.structure.0.id|default(false) %}\r\n\r\n    {% if firstMenuId %}\r\n        {% set currentMenuByTarget = attribute(attribute(byTarget, locale), targetGroup) %}\r\n        {% set firstMenuSlug = attribute(currentMenuByTarget.slugByUid, firstMenuId) %}\r\n    \r\n        {% embed '@EMSCH\/template\/embed\/print_menu_children.html.twig' with {\r\n            'menuChildren' : menu.getItem(firstMenuId).children|default([]),\r\n            'pictureSettings': { 'height': 70, 'width': 70, 'class': '' },\r\n            'maxSize': 8,\r\n            'seeAllLink': path(\"emsch_target_#{currentTarget.target_group}.#{locale}\", {slug: firstMenuSlug}),\r\n            'seeAllLabel': 'themes.see.all'\r\n\r\n        } %}\r\n            {% trans_default_domain trans_default_domain %}\r\n            {% block itemsTitle %}\r\n                <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                        <h3>{{ 'themes.popular'|trans }}<\/h3>\r\n                        <hr\/>\r\n                    <\/div>\r\n                <\/div>\r\n            {% endblock %}\r\n            {% block itemClass %}{{ \"col-md-3 mb-4\" }}{% endblock %}\r\n        {% endembed %}\r\n    {% endif %}\r\n{% endblock %}\r\n\r\n\r\n{% block actions %}\r\n    {% set thirdMenuId = menu.structure.2.id|default(false) %}\r\n\r\n    {% if thirdMenuId %}\r\n        {% set currentMenuByTarget = attribute(attribute(byTarget, locale), targetGroup) %}\r\n        {% set thirdMenuSlug = attribute(currentMenuByTarget.slugByUid, thirdMenuId) %}\r\n\r\n        {% embed '@EMSCH\/template\/embed\/print_menu_children.html.twig' with {\r\n            'menuChildren' : menu.getItem(thirdMenuId).children|default([]),\r\n            'noImage': true,\r\n            'maxSize': 4,\r\n            'seeAllLink': path(\"emsch_target_#{currentTarget.target_group}.#{locale}\", {slug: thirdMenuSlug}),\r\n            'seeAllLabel': 'actions.see.all'\r\n        } %}\r\n            {% trans_default_domain trans_default_domain %}\r\n            {% block itemsTitle %}\r\n                <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                        <h3>{{ 'actions'|trans }}<\/h3>\r\n                        <hr\/>\r\n                    <\/div>\r\n                <\/div>\r\n            {% endblock %}\r\n            {% block itemClass %}{{ \"col-md-3\" }}{% endblock %}\r\n        {% endembed %}\r\n    {% endif %}\r\n{% endblock %}\r\n\r\n\r\n{%- block news -%}\r\n    {% set countNews = 3 %}\r\n    {% set newsItems = emsch_search('news', {\r\n        \"size\": countNews,\r\n        \"sort\": [ { \"search_dates\": { \"order\": \"desc\" } } ],\r\n        \"query\": {\r\n            \"bool\": {\r\n              \"must\": [\r\n                { \"term\": { (\"show_#{locale}\"): { \"value\": true } } },\r\n                { \"term\": { \"show_homepage\": { \"value\": true } } },\r\n                {\r\n                    \"bool\": {\r\n                        \"minimum_should_match\": 1,\r\n                        \"should\": [\r\n                            { \"terms\": { \"target_group\": [ \"#{targetGroup}\" ] } },\r\n                            { \"bool\": {  \"must_not\": [  { \"exists\": { \"field\": \"target_group\" } } ] } } \r\n                        ]\r\n                    }\r\n                }\r\n              ]\r\n            }\r\n          }\r\n    }).hits.hits  %}\r\n    \r\n    {% if newsItems|length > 0 %}\r\n        <div class=\"row\">\r\n            <div class=\"col\">\r\n                <h2 class=\"text-center\">{{ 'news.title'|trans }}<\/h2>\r\n                <hr \/>\r\n                <div class=\"row justify-content-center\">\r\n                    {% for newsItem in newsItems %}\r\n                        <div class=\"col-md-4 col-sm-6\">\r\n                            {% include '@EMSCH\/template\/include\/news_card.html.twig' with {'news': newsItem._source, 'newsId': newsItem._id }  %}\r\n                        <\/div>\r\n                    {% endfor %}\r\n                <\/div>  \r\n                <hr \/>\r\n                <div class=\"d-flex w-100 justify-content-center mt-4\">\r\n                    <a href=\"{{ path('emsch_news_'~targetGroup) }}\" class=\"btn btn-primary\">{{ 'news.all'|trans }}<\/a>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n    {% endif %}\r\n{%- endblock -%}",
    "name": "parent\/homepage.html.twig",
    "_sha1": "6d96c10e229d82d264c24e77dda306e230722a8f",
    "_published_datetime": "2021-01-17T21:33:55+0100"
}
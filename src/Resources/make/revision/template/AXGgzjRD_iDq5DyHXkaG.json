{
    "_contenttype": "template",
    "_finalization_datetime": "2020-05-12T10:28:34+0200",
    "_finalized_by": "davmat",
    "body": "{% spaceless %}\r\n    {% set pictureConfig = {\r\n        _file_names: [\r\n            '.\/bundles\/'~trans_default_domain~'\/img\/ct-'~search_type|default(false)~'.png',\r\n            '.\/bundles\/'~trans_default_domain~'\/img\/blank.png',\r\n        ],\r\n        _quality: 0,\r\n        _config_type: 'image',\r\n        _width: width|default('*'),\r\n        _height: height|default('*'),\r\n        _resize: 'fill',\r\n        _gravity: picture.picture_gravity|default('center'),\r\n        _background: picture.picture_background|default('#FFFFFFFF'),\r\n    } %}\r\n    \r\n    {%set hashInfo = {\r\n        filename: 'ct-'~search_type|default(\"blank\")~'.png',\r\n        _filename: 'ct-'~search_type|default(\"blank\")~'.png',\r\n    } %}\r\n    \r\n    {% if attribute(picture, 'picture_asset') is defined %}\r\n        {% if 'zip' in picture.picture_asset.mimetype|default('not') %}\r\n            {% set directory = '.\/bundles\/' ~ picture.picture_asset.sha1 %}\r\n            {% set extracted = emsch_unzip(picture.picture_asset.sha1, directory)|default([]) %}\r\n            {% if extracted|length > 0 %}\r\n                {% set image = random(extracted) %}\r\n                {% set pictureConfig = {\r\n                    _file_names:[image.pathname],\r\n                    _quality: 0,\r\n                    _config_type: 'image',\r\n                    _width: width|default('*'),\r\n                    _height: height|default('*'),\r\n                    _resize: attribute(picture, 'picture_resize')|default('ratio'),\r\n                    _resize: 'fillArea',\r\n                    _gravity: source.picture_gravity|default('center'),\r\n                    _background: source.picture_background|default('#FFFFFFFF'),\r\n                } %}\r\n            {% endif %}\r\n        {% else %}\r\n            {% set pictureConfig = {\r\n                _config_type: 'image',\r\n                _width: width|default('*'),\r\n                _height: height|default('*'),\r\n                _resize: attribute(picture, 'picture_resize')|default('ratio'),\r\n                _quality: 0,\r\n                _gravity: attribute(picture, 'picture_gravity')|default('center'),\r\n                _background: attribute(picture, 'picture_background')|default('#FFFFFF')\r\n            } %}\r\n            {% set hashInfo = picture.picture_asset %}\r\n        {% endif %}\r\n    {% elseif attribute(picture, \"file_#{locale}\") is defined %}        \r\n        {% set pictureConfig = {\r\n            _config_type: 'image',\r\n            _width: width|default('*'),\r\n            _height: height|default('*'),\r\n            _resize: resize|default(null),\r\n            _quality: 0,\r\n            _gravity: attribute(picture, 'picture_gravity')|default('center'),\r\n            _background: attribute(picture, 'picture_background')|default('#FFFFFF')\r\n        } %}\r\n        {% set hashInfo = attribute(picture, \"file_#{locale}\") %}\r\n    {% endif%}\r\n    \r\n    {% if watermark|default(false) %}\r\n        {% set pictureConfig = pictureConfig|merge({_watermark_hash: watermark}) %}\r\n    {% endif %}\r\n    \r\n    {{ ems_asset_path(hashInfo, pictureConfig) }}\r\n{% endspaceless %}",
    "name": "include\/image-path.txt.twig",
    "_sha1": "3928114dca3e1a2e528432780ec562100c3b35ad",
    "_published_datetime": "2021-01-17T21:33:55+0100"
}
{
    "_contenttype": "template",
    "_finalization_datetime": "2020-05-09T08:45:04+0200",
    "_finalized_by": "theus",
    "body": "{% trans_default_domain trans_default_domain %}\r\n\r\n{% set targetMenu = source.menu|default('{}')|ems_json_menu_decode %}\r\n\r\n{% set currentUid = false %}\r\n{% for url in source.slugs|default([]) %}\r\n    {% if url == app.request.get('_route_params')['slug'] %}\r\n        {% set currentUid = attribute(source.menu_ids, loop.index0)|default(false) %}\r\n    {% endif %}\r\n{% endfor %}\r\n\r\n{% set template = '@EMSCH\/template\/base.html.twig' %}\r\n{% set templateFound = false %}\r\n{% if currentUid %}\r\n    {% set linkedDocument = emsch_search('page,link', {\r\n        \"query\": {\r\n            \"bool\": {\r\n                \"must\": [\r\n                    {\r\n                        \"term\": {\r\n                            ('menu_' ~ app.request.locale): currentUid\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    }).hits.hits.0|default(false) %}\r\n\r\n    {% set template = '@EMSCH\/template\/base.html.twig' %}\r\n    {% if attribute(linkedDocument._source, \"show_#{app.request.locale}\")|default(false) %}\r\n        {% set templateFound = linkedDocument._source.template|default(false) %}\r\n        {% if templateFound %}\r\n            {% set template = '@EMSCH\/' ~ linkedDocument._source.template %}\r\n            {% set source = linkedDocument._source %}\r\n            {% set document = linkedDocument %}\r\n            {% set emsLink = [linkedDocument._source._contenttype, linkedDocument._id]|join(':') %}\r\n        {% endif %}\r\n    {% endif %}\r\n{% else %}\r\n    {% set templateFound = source.template|default(false) %}\r\n    {% if templateFound %}\r\n        {% set template = '@EMSCH\/' ~ source.template %}\r\n    {% endif %}\r\n{% endif %}\r\n\r\n{% extends (template) %}\r\n\r\n{% block title %}\r\n    {% if templateFound %}\r\n        {{ parent() }}\r\n    {% else %}\r\n        {{ targetMenu.getItem(currentUid).label|default(source.title|default(currentUid)) }}\r\n    {% endif %}\r\n{% endblock %}\r\n\r\n\r\n{% set childrenTitle = '' %}\r\n{% set childrenContainerClass = 'col-md-4 col-sm-6 pt-2 pb-2' %}\r\n{% block children %}\r\n    {% embed '@EMSCH\/template\/embed\/print_menu_children.html.twig' with {\r\n        'menuChildren' : targetMenu.getItem(currentUid).children|default([]),\r\n        'pictureSettings': { 'height': 70, 'width': 70, 'class': '' },\r\n        'maxSize': 50\r\n    } %}\r\n        {% block itemsTitle %}\r\n            {% if childrenTitle != '' %}\r\n                <h2>{{ childrenTitle }}<\/h2>\r\n            {% endif %}\r\n        {% endblock %}\r\n        {% block itemClass %}{{ childrenContainerClass }}{% endblock %}\r\n    {% endembed %}\r\n{% endblock %}\r\n\r\n\r\n{% block body %}\r\n    {% if templateFound %}\r\n        {{ parent() }}\r\n    {% else %}\r\n        {{ include('@EMSCH\/template\/bootstrap\/breadcrumb.html.twig') }}\r\n        <main role=\"main\" class=\"container\" id=\"main-content\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12 page-main\">\r\n                    <h1 class=\"pb-3 mb-4 font-italic border-bottom\" {{ emsch_admin_menu(emsLink) }}>\r\n                        {{ block('title') }}\r\n                    <\/h1>\r\n                     {% if targetMenu.getItem(currentUid).children|default(false) %}\r\n                        {{ block('children') }}\r\n                     \r\n                       \r\n                    {% else %}\r\n                        {{ 'page.target.children_missing'|trans }}\r\n                    {% endif %}\r\n                <\/div>\r\n            <\/div>\r\n        <\/main>\r\n    {% endif %}\r\n{% endblock body %}",
    "name": "page\/target.html.twig",
    "_sha1": "93eedc75571e06a60c4c36e9bd21b523bb148ae5",
    "_published_datetime": "2021-01-17T21:33:55+0100"
}